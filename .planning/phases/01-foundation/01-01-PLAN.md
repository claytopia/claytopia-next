---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/globals.css
  - app/layout.tsx
  - package.json
autonomous: true

must_haves:
  truths:
    - "Page displays with sage green background tint instead of white"
    - "All text renders in Plus Jakarta Sans font"
    - "Text color is charcoal (near-black) for high contrast"
    - "Colors are defined as CSS variables for future theme changes"
  artifacts:
    - path: "app/globals.css"
      provides: "Complete Claytopia color system and Tailwind theme bridge"
      contains: "@theme inline"
    - path: "app/layout.tsx"
      provides: "Font configuration with Plus Jakarta Sans"
      contains: "Plus_Jakarta_Sans"
  key_links:
    - from: "app/layout.tsx"
      to: "app/globals.css"
      via: "CSS variable --font-plus-jakarta-sans"
      pattern: "variable.*font-plus-jakarta-sans"
    - from: "app/globals.css"
      to: "Tailwind utilities"
      via: "@theme inline directive"
      pattern: "@theme inline"
---

<objective>
Configure the Claytopia design system with earthy sage green/lilac color palette and Plus Jakarta Sans typography using Tailwind CSS v4's CSS-first approach.

Purpose: Establish the visual foundation that all components will use - colors, fonts, and semantic design tokens.
Output: Updated globals.css with complete color system, layout.tsx with font configuration, working Tailwind utilities (bg-background, text-foreground, etc.)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
@app/globals.css
@app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Claytopia color palette in globals.css</name>
  <files>app/globals.css</files>
  <action>
Replace the existing globals.css with the Claytopia design system:

1. Keep the `@import "tailwindcss";` at the top

2. Define CSS custom properties in `:root`:
   - Sage palette (50, 100, 200, 500, 600, 700) - earthy green tones
   - Lilac accent palette (400, 500, 600) - for CTAs and highlights
   - Charcoal neutrals (base and muted)
   - Semantic tokens: --background, --background-alt, --foreground, --foreground-muted, --primary, --accent, --accent-hover

3. Use OKLCH color format for better perceptual uniformity:
   - Sage-50: oklch(0.96 0.02 130) - light background
   - Sage-600: oklch(0.62 0.09 130) - primary sage
   - Lilac-500: oklch(0.65 0.12 310) - accent
   - Charcoal: oklch(0.25 0.01 250) - text

4. Add @theme inline block bridging CSS variables to Tailwind:
   - --color-background, --color-background-alt
   - --color-foreground, --color-foreground-muted
   - --color-primary, --color-accent, --color-accent-hover
   - --font-sans (referencing --font-plus-jakarta-sans)

5. Add base body styles setting background, color, and font-family

REMOVE the dark mode media query - Claytopia uses a single warm theme.
REMOVE references to Geist fonts.

Reference: RESEARCH.md "Complete globals.css Design System" code example
  </action>
  <verify>
Run `npm run dev` and verify:
- No build errors
- Browser DevTools shows :root CSS variables defined
- Computed body background is sage-50 tint (not white)
  </verify>
  <done>
globals.css contains complete Claytopia color system with @theme inline bridge to Tailwind utilities
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Plus Jakarta Sans font in layout.tsx</name>
  <files>app/layout.tsx</files>
  <action>
Update layout.tsx to use Plus Jakarta Sans instead of Geist:

1. Remove Geist and Geist_Mono imports
2. Import Plus_Jakarta_Sans from 'next/font/google'
3. Configure the font:
   ```tsx
   const plusJakartaSans = Plus_Jakarta_Sans({
     subsets: ['latin'],
     variable: '--font-plus-jakarta-sans',
     display: 'swap',
   });
   ```

4. Update the html element:
   - Change lang="en" to lang="de" (German site)
   - Apply plusJakartaSans.variable to className

5. Update body className:
   - Remove Geist variable classes
   - Add: font-sans bg-background text-foreground antialiased

6. Update metadata:
   - title: "Claytopia - Keramik Atelier"
   - description: "Keramik-Atelier in [Stadt]. Clay Club, Brennservice, Workshops und Events."

Note: Keep the structure simple - Header/Footer will be added in Plan 02.
  </action>
  <verify>
Run `npm run dev` and verify:
- Page renders with Plus Jakarta Sans (check DevTools computed font-family)
- Background has sage green tint
- Text is charcoal color
- No console errors about missing fonts
  </verify>
  <done>
layout.tsx loads Plus Jakarta Sans via next/font/google with CSS variable, html lang="de", body uses Tailwind design tokens
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify design system utilities work</name>
  <files>app/page.tsx</files>
  <action>
Update page.tsx to test the design system is working:

1. Replace the entire content with a simple test page:
   ```tsx
   export default function Home() {
     return (
       <main className="min-h-screen p-8">
         <h1 className="text-3xl font-semibold mb-4">Claytopia</h1>
         <p className="text-foreground-muted mb-8">Design system test page</p>

         <div className="space-y-4">
           <div className="p-4 bg-background-alt rounded-lg">
             <p>Background alt (sage-100)</p>
           </div>
           <div className="p-4 bg-primary text-white rounded-lg">
             <p>Primary (sage-600)</p>
           </div>
           <div className="p-4 bg-accent text-white rounded-lg">
             <p>Accent (lilac-500)</p>
           </div>
         </div>
       </main>
     );
   }
   ```

2. This tests:
   - bg-background (inherited from body)
   - text-foreground (inherited from body)
   - text-foreground-muted (semantic token)
   - bg-background-alt (sage-100)
   - bg-primary (sage-600)
   - bg-accent (lilac-500)
   - font-sans (Plus Jakarta Sans)

Note: This is a temporary test page - will be replaced in Phase 2.
  </action>
  <verify>
Run `npm run dev` and visually verify at http://localhost:3000:
- Page background is light sage tint
- Heading text is charcoal (readable)
- Three colored boxes show: sage-100, sage-600, lilac-500
- Font is Plus Jakarta Sans (clean, modern sans-serif)
- Check WCAG contrast: charcoal text on sage-50 should pass AA (use browser extension or DevTools)
  </verify>
  <done>
Design system colors and typography render correctly, Tailwind utilities (bg-background, bg-primary, bg-accent, text-foreground-muted) all functional
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run dev` starts without errors
2. Visit http://localhost:3000 - page shows Claytopia test content
3. DevTools > Elements > Computed styles shows:
   - font-family includes "Plus Jakarta Sans"
   - background-color is sage-50 oklch value
   - color is charcoal oklch value
4. DevTools > Elements > :root shows all CSS custom properties defined
5. Tailwind utility classes (bg-primary, text-foreground-muted, etc.) apply correct colors
</verification>

<success_criteria>
- globals.css contains complete Claytopia color system with :root variables and @theme inline bridge
- layout.tsx loads Plus Jakarta Sans and applies font-sans, bg-background, text-foreground
- html element has lang="de"
- Test page renders with all design tokens working
- No build or runtime errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
